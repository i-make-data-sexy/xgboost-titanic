{# Extend the base template #}
{% extends "base.html" %}

{# Set the page title #}
{% block title %}Titanic Survival Analysis Dashboard{% endblock %}

{# Set the header text #}
{% block header %}
    <div class="header-nav">
        <h1>Data Exploration Dashboard</h1>
        <p><a href="/model-performance">View the Model Performance dashboard</a></p>
    </div>
{% endblock %}s

{# Main content - the 4 charts grid #}
{% block content %}
    {# Grid layout for 4 separate charts #}
    <div class="charts-grid">
        <div class="chart-container" id="class-chart"></div>
        <div class="chart-container" id="gender-chart"></div>
        <div class="chart-container" id="family-chart"></div>
        <div class="chart-container" id="age-chart"></div>
    </div>

    {# Model training section #}
    <div class="model-training-section">
        <button id="train-model-btn" class="train-button">
            <span id="btn-text">Train New Model</span>
            <span id="btn-spinner" class="spinner hidden"></span>
        </button>
        <p id="training-message" class="training-message"></p>
    </div>

    {# Hidden JSON data for JavaScript to consume #}
    <script id="class-chart-data" type="application/json">{{ class_chart | safe }}</script>
    <script id="gender-chart-data" type="application/json">{{ gender_chart | safe }}</script>
    <script id="family-chart-data" type="application/json">{{ family_chart | safe }}</script>
    <script id="age-chart-data" type="application/json">{{ age_chart | safe }}</script>
{% endblock %}

{# Page-specific scripts #}
{% block scripts %}
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}